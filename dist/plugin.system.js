System.register(["@builder.io/react","@emotion/core","mobx-react","@emotion/styled","react","@material-ui/core"],(function(e,t){var n={},o={},r={},u={},i={},l={};return{setters:[function(e){n.Builder=e.Builder},function(e){o.jsx=e.jsx},function(e){r.useObserver=e.useObserver},function(e){u.default=e.default},function(e){i.useEffect=e.useEffect,i.useReducer=e.useReducer},function(e){l.FormControl=e.FormControl,l.InputLabel=e.InputLabel,l.MenuItem=e.MenuItem,l.Select=e.Select,l.TextField=e.TextField}],execute:function(){e((()=>{"use strict";var e={522:e=>{e.exports=n},576:e=>{e.exports=o},992:e=>{e.exports=u},509:e=>{e.exports=l},979:e=>{e.exports=r},726:e=>{e.exports=i}},t={};function c(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,c),r.exports}c.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};return(()=>{c.r(a);var e=c(522),t=c(576),n=c(979),o=c(992).default.div({display:"flex",alignItems:"center",flexDirection:"column"}),r=c(726),u=c(509);const i=function(){function e(){this.baseUrl="https://cdn.builder.io/api/v3/content/"}return e.prototype.getModels=function(e,t){return n=this,o=void 0,u=function(){return function(e,t){var n,o,r,u,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,l[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&l[0]?o.return:l[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,l[1])).done)return r;switch(o=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,o=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],o=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(this.baseUrl).concat(e),{headers:t}).then((function(e){return e.json()}))];case 1:return[2,n.sent()]}}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{c(u.next(e))}catch(e){t(e)}}function l(e){try{c(u.throw(e))}catch(e){t(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,l)}c((u=u.apply(n,o||[])).next())}));var n,o,r,u},e}();var l=function(){return l=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},l.apply(this,arguments)},s={set_selected_component:function(e,t){return l(l({},e),{selectedComponent:t.selectedComponent,selectedId:t.selectedId})},set_list_components:function(e,t){return l(l({},e),{customPageComps:t.customPageComps})},set_type_change:function(e,t){return l(l({},e),{selectedId:t.selectedId,currentValue:t.currentValue,selectedComponent:t.selectedComponent})},set_option_change:function(e,t){return l(l({},e),{currentValue:t.currentValue})}},p=function(e,t){var n,o=null!==(n=s[t.type])&&void 0!==n?n:null;return o?o(e,t):e};e.Builder.registerEditor({name:"Custom Page Component",component:function(e){var l=e.context.user,c=new i,a=e.value?e.value.toJSON():void 0,s=a?a.id:"",f=a?function(e){var t;return{id:e.id,options:Object.keys(e.options),title:null!==(t=e.title)&&void 0!==t?t:e.id}}(a):void 0,d={currentValue:a,customPageComps:[],selectedComponent:f,selectedId:s},m=(0,r.useReducer)(p,d),v=m[0],h=m[1];function b(){return e=this,t=void 0,o=function(){var e,t,n;return function(e,t){var n,o,r,u,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return u={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function l(l){return function(c){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;u&&(u=0,l[0]&&(i=0)),i;)try{if(n=1,o&&(r=2&l[0]?o.return:l[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,l[1])).done)return r;switch(o=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,o=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){i.label=l[1];break}if(6===l[0]&&i.label<r[1]){i.label=r[1],r=l;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(l);break}r[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],o=0}finally{n=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,c])}}}(this,(function(o){switch(o.label){case 0:return e="page-components?apiKey=".concat(l.apiKey,"&query.published.$ne=archived&limit=50&cachebust=true"),[4,c.getModels(e,l.authHeaders)];case 1:return t=o.sent(),n=Array.isArray(t.results)?function(e){var t;return console.log(e),t=e.map((function(e){var t,n,o,r,u,i=null!==(n=null===(t=e.data)||void 0===t?void 0:t.name)&&void 0!==n?n:"";return{id:i,options:Object.keys(null!==(r=null===(o=e.data)||void 0===o?void 0:o.options)&&void 0!==r?r:{}),title:null!==(u=e.name)&&void 0!==u?u:i}})),t}(t.results):[],console.log(n),h({type:"set_list_components",customPageComps:n}),[2]}}))},new((n=void 0)||(n=Promise))((function(r,u){function i(e){try{c(o.next(e))}catch(e){u(e)}}function l(e){try{c(o.throw(e))}catch(e){u(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}c((o=o.apply(e,t||[])).next())}));var e,t,n,o}function y(t){var n=v.customPageComps.find((function(e){return e.id==t.target.value}));if(n){var o={id:n.id,options:{}};h({type:"set_type_change",selectedId:t.target.value,currentValue:o,selectedComponent:n}),e.onChange(o)}}return(0,r.useEffect)((function(){b()}),[]),(0,n.useObserver)((function(){return(0,t.jsx)(o,{css:{marginTop:5,marginBottom:10}},(0,t.jsx)(u.FormControl,{fullWidth:!0},(0,t.jsx)(u.InputLabel,{id:"input-component-template-label"},"Select custom component template"),(0,t.jsx)(u.Select,{labelId:"input-component-template-label",id:"input-component-template",css:{marginTop:30},value:v.selectedId,onChange:y},v.customPageComps.map((function(e){return(0,t.jsx)(u.MenuItem,{value:e.id},e.title)})))),v.selectedComponent&&v.selectedComponent.options.map((function(n){var o;return(0,t.jsx)(u.FormControl,{fullWidth:!0},(0,t.jsx)(u.TextField,{fullWidth:!0,css:{marginTop:30},label:n,defaultValue:"",id:n,onChange:function(t){return function(t,n){if(v.currentValue){var o=v.currentValue;o.options[n]=t,h({type:"set_option_change",currentValue:o}),e.onChange(o)}}(t.target.value,n)},value:null===(o=v.currentValue)||void 0===o?void 0:o.options[n]}))})))}))}})})(),a})())}}}));